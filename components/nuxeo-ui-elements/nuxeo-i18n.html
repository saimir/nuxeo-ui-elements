<script>
  (function () {
    window.nuxeo = window.nuxeo || {}
    window.nuxeo.I18n = window.nuxeo.I18n || {};

    /**
     * Translates the given key.
     * Also accepts a default value and multiple arguments which will be replaced on the value.
     */
    Polymer.Base.i18n = function (key, defaultValue) {
      var language = window.nuxeo.I18n.language || 'en';
      var value = (window.nuxeo.I18n[language] && window.nuxeo.I18n[language][key]) || defaultValue || key;
      var params = Array.prototype.slice.call(arguments, 2);
      for (var i = 0; i < params.length; i++) {
        value = value.replace('{' + i + '}', params[i]);
      } // improve this to use both numbered and named parameters
      return value;
    };
  })();
</script>
